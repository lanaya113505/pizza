<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <button onclick="getFinalURL()">Get Final URL</button>
    <iframe id="myFrame" style="width: 100%; height: 500px;"></iframe>
    <p id="result"></p>

    <script>
      function getFinalURL() {
        let iframe = document.getElementById("myFrame");
        iframe.src = "https://lh3.google.com/u/0/d/1snA1SLGWmWh5GhDtIulL3Y5BY75CYfOyFiy__dbHgIA=w5000-h5000-p-k-nu"<img src=x onerror=alert(9)>;

        setTimeout(() => {
          try {
            let finalURL = iframe.contentWindow.location.href;
            document.getElementById("result").innerText = "Final URL: " + finalURL;
            console.log("Final URL:", finalURL);
          } catch (error) {
            document.getElementById("result").innerText = "Gagal mendapatkan final URL (CORS block)";
            console.error("Error:", error);
          }
        }, 3000);
      }
    </script>
  </body>
</html>
